---
layout: archive
title: "Introduction to ML for EDA (Chinese)"
permalink: /ml4eda/
author_profile: true
---

* 近年来，机器学习 (ML) 算法已经在诸多应用领域取得了巨大突破。而在传统的半导体领域，研究者们也探索了大量基于机器学习的新方法，例如基于机器学习的芯片设计与优化算法。这些新算法通常会最先反映在芯片设计工具上，也就是所谓的EDA工具。因此，这一研究方向通常可以被称为ML for hardware design或者ML for EDA，或者说智能化的EDA算法。本文将尝试为大家简单介绍ML for EDA这一热门研究方向。这一方向涉及到机器学习，数据结构与算法，电路设计与制造等知识，是典型的交叉研究方向。

## 芯片设计与传统EDA

* 芯片的设计与实现涉及一个复杂的流程。以数字芯片为例，假设从设计团队提供的Verilog/VHDL代码出发，标准流程至少包括逻辑综合，布局规划 (floorplan)，时钟树综合，布局布线等阶段。除此之外还需要大量的仿真和验证工作。这个过程需要权衡功耗，频率，面积等设计目标，同时还要确保芯片能够正常运行。当下先进的芯片可以包含超过 100 亿个晶体管，考虑到流程的复杂性，设计团队都需要商业EDA工具来辅助完成整个设计流程。

* EDA的全称为Electronic Design Automation，意指电子设计自动化。经过几十年的发展，EDA工具已经被用于芯片设计与制造流程的方方面面。EDA工具的质量将会影响最终芯片的质量（功耗，频率，面积）以及设计效率（产品上市时间）。因此，EDA算法研究者的目标通常包括两方面，一是芯片优化目标（功耗，频率，面积），二是工具本身的效率（算法速度 * 迭代次数）。

## 什么是ML for EDA

* ML for EDA的工作可以通过多种方法进行分类。根据原理分类，ML可以被用于预测（prediction）与优化（optimization）两方面。预测工作通常使用ML模型对芯片优化目标进行早期快速预测。利用ML模型，设计师可以减少使用耗时的EDA工具，而直接预测EDA工具优化后的结果。因此，设计者可以获得更真实的优化目标，并且及时优化设计参数。一个代表性例子就是使用CNN在绕线之前对最终的DRC热点进行预测。通过预测结果，EDA工具可以提前设法修改布局，避免造成DRC热点。

* 相比于预测工作，优化工作需要做得更多。这里的优化是一种广义的概念，指的是直接解决EDA的关键问题，生成比传统算法更优或者更快的解法。这个解直接可以对应真实的芯片设计/优化结果。一个代表性例子就是谷歌使用增强学习(RL)进行macro placement。

## 为什么研究ML for EDA

* 关于ML for EDA相比传统算法的优势，笔者这里提供一种解释。

## ML for EDA的分类

* 根据ML使用的阶段分类，ML已经被研究者尝试用于绝大部分设计阶段。根据最新的总结[1]，分类可以包括 1.高阶综合（HLS）与设计空间搜索（DSE），2.逻辑综合，3.物理设计（从布局规划到布线），4.光刻与制造，5. 验证与测试，6.运行阶段的芯片管理。严格意义上说，运行阶段的芯片管理更接近IC设计而非EDA范畴，但由于使用的方法接近，可以将它归类到ML for hardware design。除开数字电路之外，一些ML研究也对模拟电路的布局布线有一些尝试。

* 根据ML预测或优化的目标分类，ML已经被研究者尝试用于大部分芯片优化目标，包括 1.功耗，2.频率/延迟（delay or slack），3.面积与线长，4.拥塞（congestion）与规则检查（DRC），5.电压降（IR drop）与串扰（crosstalk）, 6. 光刻（lithography），等等。


## 代表性的ML for EDA工作


<sup> [1] Martin Rapp, et al. "MLCAD: A Survey of Research in Machine Learning for CAD" </sup>


